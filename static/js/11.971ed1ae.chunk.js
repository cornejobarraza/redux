"use strict";(self.webpackChunkredux=self.webpackChunkredux||[]).push([[11],{6011:function(e,t,s){s.r(t),s.d(t,{default:function(){return N}});var n=s(4165),r=s(2982),i=s(5861),l=s(885),a=s(7313),c=s(5554),u=s(2938),o=s(1387),h=s(9572),d=s(9489),m=s(573),f=s(1638),x=s(9984),v=s(2429),p=s(6417),w=(0,v.Z)((0,p.jsx)("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"}),"AutoAwesome"),g=(0,v.Z)((0,p.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),j=(0,v.Z)((0,p.jsx)("path",{d:"M21 7h-2v2h-2V7h-2V5h2V3h2v2h2v2zm-2 14-7-3-7 3V5c0-1.1.9-2 2-2h7c-.63.84-1 1.87-1 3 0 2.76 2.24 5 5 5 .34 0 .68-.03 1-.1V21z"}),"BookmarkAdd");function N(){var e,t=JSON.parse(localStorage.getItem("currentUser")),s=(0,c.v9)((function(e){return e.auth})),v=s.user,N=s.pending,L=(0,d.v0)(),b=(0,u.F_)(L),k=(0,l.Z)(b,2),y=k[0],Z=k[1],A=(0,c.I0)(),z=(0,f.jN)(),C=(0,a.useState)(!1),I=(0,l.Z)(C,2),E=I[0],S=I[1],V=(0,a.useState)(!1),W=(0,l.Z)(V,2),M=W[0],R=W[1],U=(0,a.useRef)(null),J=(0,a.useRef)(null),q=(0,a.useRef)(null);(0,a.useEffect)((function(){document.title="Redux - Wishlist"}),[]),(0,a.useEffect)((function(){var e=function(e){var t,s;!E||null!==(t=J.current)&&void 0!==t&&t.contains(e.target)||null!==(s=U.current)&&void 0!==s&&s.contains(e.target)||(q.current.value="",S(!1))};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[E]);var D=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!0),s=(0,m.JU)(h.db,"users",y.uid),e.next=5,(0,m.r7)(s,{wishlist:(0,m.vr)(t)});case 5:A(x.hI.setWishlistAsync(v.wishlist?[].concat((0,r.Z)(v.wishlist),[t]):[t])),R(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),R(!1),A(x.hI.setWishlistError());case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!0),s=(0,m.JU)(h.db,"users",y.uid),e.next=5,(0,m.r7)(s,{wishlist:(0,m.Ab)(t)});case 5:A(x.hI.setWishlistAsync(v.wishlist.filter((function(e){return e!==t})))),R(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),R(!1),A(x.hI.setWishlistError());case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:"wishlist flex flex-col gap-10 max-w-2xl",children:[!Z&&(0,p.jsxs)("div",{className:"description",children:[(0,p.jsx)("h1",{className:"page-header",children:"Wishlist"}),(0,p.jsx)("p",{className:"mt-4 max-w-2xl text-lg text-gray-500",children:y?"Lorem ipsum dolor sit amet consect adipisicing elit. Possimus magnam voluptatum cupiditate veritatis in accusamus quisquam":"Sign in with Google to manage your wishlist"}),!y&&(0,p.jsx)("button",{className:"button mt-8",onClick:z,children:"Sign in with Google"})]}),y&&(0,p.jsx)(p.Fragment,{children:M||N.login?(0,p.jsx)("div",{children:"Loading list..."}):(0,p.jsxs)("div",{className:"container flex flex-col gap-8",children:[(null===(e=v.wishlist)||void 0===e?void 0:e.length)>0&&(0,p.jsx)("div",{className:"list flex flex-col gap-4",children:v.wishlist.map((function(e,t){return(0,p.jsxs)("div",{className:"item flex items-center gap-3",children:[(0,p.jsx)("span",{className:"pt-[0.2rem] mb-auto",children:(0,p.jsx)(w,{className:"!fill-yellow-600"})}),(0,p.jsx)("p",{children:e}),(0,p.jsx)("button",{onClick:function(){return F(e)},ref:U,children:(0,p.jsx)(g,{className:"!fill-red-600 z-0"})})]},t)}))}),(0,p.jsx)("div",{className:"new",children:E?(0,p.jsxs)("form",{className:"flex gap-3",onSubmit:function(e){var s;e.preventDefault();var n=e.target.wishItem.value.trim(),r=null===(s=t.user.wishlist)||void 0===s?void 0:s.some((function(e){return e.toLowerCase()===n.toLowerCase()}));n&&!r&&D(n.charAt(0).toUpperCase()+n.slice(1)),r&&(0,o.Am)("Wish exists already",{type:"warning"}),q.current.value="",J.current.focus()},ref:J,children:[(0,p.jsx)("input",{className:"form-input w-full md:w-2/4",type:"text",name:"wishItem",placeholder:"Enter your wish here",ref:q}),(0,p.jsx)("button",{type:"submit",children:(0,p.jsx)(j,{className:"!fill-redux-500"})})]}):(0,p.jsx)("button",{className:"text-redux-500 w-fit hover:underline",onClick:function(){return S(!0)},children:"Add an item to your wishlist"})})]})})]})}}}]);