"use strict";(self.webpackChunkredux=self.webpackChunkredux||[]).push([[515],{6515:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var s=a(885),r=a(7313),n=a(4942),i=a(1413),l=a(5554),c=a(1387),u=a(5987),d=["title","titleId"];var o=r.forwardRef((function(e,t){var a=e.title,s=e.titleId,n=(0,u.Z)(e,d);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"}))})),m=a(1638),p=a(9984),h=a(6417);function f(e){var t=e.authUser,a=(0,l.v9)((function(e){return e.auth})),u=a.user,d=a.pending,f=a.error,x=(0,r.useState)({avatar:u.avatar,name:u.name,email:u.email,address:u.address,website:u.website}),v=(0,s.Z)(x,2),g=v[0],w=v[1],b=(0,r.useState)(2),j=(0,s.Z)(b,2),N=j[0],y=j[1],Z=(0,r.useState)(!1),k=(0,s.Z)(Z,2),S=k[0],A=k[1],C=(0,m.Fw)(g),I=(0,l.I0)();(0,r.useEffect)((function(){!1!==d.update||f.update||(0,c.Am)("Account successfully updated!",{type:"success"}),f.update&&(0,c.Am)("Something went wrong, please try again",{type:"error"})}),[d.update,f.update]);var E=function(e){var t=e.target.value.trim(),a=e.target.name;if("email"===a){if(!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t))return}t.length>0?w((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,n.Z)({},a,t))})):w((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,n.Z)({},a,u[a]))}))};return(0,h.jsxs)("div",{className:"profile",children:[(0,h.jsx)("h1",{className:"page-header",children:"Update your account"}),(0,h.jsx)("p",{className:"mt-4 text-lg text-gray-500",children:"Lorem ipsum dolor sit amet consect adipisicing elit. Possimus magnam voluptatum cupiditate veritatis in accusamus quisquam."}),(0,h.jsxs)("form",{id:"detailsForm",className:"details mt-8 md:max-w-md",onSubmit:function(e){e.preventDefault(),JSON.stringify(g)!==JSON.stringify(u)&&(t&&C(),I(p.hI.updateAsync({avatar:g.avatar,name:g.name,email:g.email,address:g.address,website:g.website}))),e.target.reset()},children:[(0,h.jsxs)("div",{className:"input-group md:flex-row md:gap-16 md:justify-between",children:[(0,h.jsxs)("div",{className:"icon md:text-center",children:[(0,h.jsx)("label",{className:"block font-bold",children:"Profile picture"}),(0,h.jsx)("img",{className:"avatar cursor-default my-4 md:my-7",src:g.avatar,alt:"","aria-label":"Current user avatar",width:"64px",height:"64px",referrerPolicy:"no-referrer"}),(0,h.jsx)("span",{className:"swapper".concat(S?" spin":""),onClick:function(){A(!0),y(10===N?1:function(e){return e+1}),w((function(e){return(0,i.Z)((0,i.Z)({},e),{},{avatar:"assets/avatars/".concat(N,".svg")})}))},onAnimationEnd:function(){return A(!1)},children:(0,h.jsx)(o,{className:"swapper-icon"})})]}),(0,h.jsxs)("div",{className:"input-row md:self-center flex-grow",children:[(0,h.jsxs)("div",{className:"detail-input",children:[(0,h.jsx)("label",{className:"form-label",children:"Full name"}),(0,h.jsx)("input",{type:"text",name:"name",className:"form-input",disabled:d.update,placeholder:u.name,onChange:function(e){return E(e)}})]}),(0,h.jsxs)("div",{className:"detail-input",children:[(0,h.jsx)("label",{className:"form-label",children:"Email address"}),(0,h.jsx)("input",{type:"email",name:"email",className:"form-input",disabled:d.update,placeholder:u.email,pattern:"^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",onChange:function(e){return E(e)}})]})]})]}),(0,h.jsxs)("div",{className:"input-group",children:[(0,h.jsxs)("div",{className:"detail-input",children:[(0,h.jsx)("label",{className:"form-label",children:"Address"}),(0,h.jsx)("input",{type:"text",name:"address",className:"form-input",disabled:d.update,placeholder:u.address,onChange:function(e){return E(e)}})]}),(0,h.jsxs)("div",{className:"detail-input",children:[(0,h.jsx)("label",{className:"form-label",children:"Website"}),(0,h.jsx)("input",{type:"text",name:"website",className:"form-input",disabled:d.update,placeholder:u.website,pattern:"^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{2,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$",onChange:function(e){return E(e)}})]})]}),(0,h.jsx)("div",{className:"detail-input",children:(0,h.jsx)("button",{className:"button",disabled:d.update,type:"submit",form:"detailsForm",children:"Update"})})]})]})}var x=a(4165),v=a(5861),g=a(9489),w=a(573),b=a(9572);function j(e){var t=e.auth,a=e.authUser,s=(0,l.I0)(),r=function(){var e=(0,v.Z)((0,x.Z)().mark((function e(){var r;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(p.hI.deleteGoogleStart()),e.next=4,(0,g.bc)(a,b.V);case 4:return r=(0,w.JU)(b.db,"users",a.uid),e.next=7,(0,w.oe)(r);case 7:return e.next=9,(0,g.h8)(a);case 9:return e.next=11,(0,g.w7)(t);case 11:s(p.hI.deleteGoogleSuccess()),s(p.hI.resetState()),(0,c.Am)("Google account successfully deleted",{type:"success"}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),s(p.hI.deleteGoogleError()),(0,c.Am)("Something went wrong, please try again",{type:"error"});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{className:"delete",children:[(0,h.jsx)("h1",{className:"page-header",children:"Delete your account"}),(0,h.jsx)("p",{className:"mt-4 text-lg text-gray-500",children:"This will permanently erase your information from our database and all data will be lost, please proceed with caution."}),(0,h.jsx)("button",{className:"button danger mt-8",type:"button",onClick:r,children:"Delete"})]})}var N=a(2938);function y(){(0,r.useEffect)((function(){document.title="Redux - Settings"}),[]);var e=(0,g.v0)(),t=(0,N.F_)(e),a=(0,s.Z)(t,1)[0];return(0,h.jsxs)("div",{className:"settings max-w-xl gap-12",children:[(0,h.jsx)(f,{authUser:a}),a&&(0,h.jsx)(j,{auth:e,authUser:a})]})}}}]);