"use strict";(self.webpackChunkredux=self.webpackChunkredux||[]).push([[11],{6011:function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var n=s(4165),i=s(2982),r=s(5861),l=s(885),a=s(7313),u=s(5554),c=s(2938),o=s(1387),h=s(9572),d=s(9489),m=s(573),f=s(1638),x=s(9984),p=s(2429),v=s(6417),w=(0,p.Z)((0,v.jsx)("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"}),"AutoAwesome"),g=(0,p.Z)((0,v.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),j=(0,p.Z)((0,v.jsx)("path",{d:"M21 7h-2v2h-2V7h-2V5h2V3h2v2h2v2zm-2 14-7-3-7 3V5c0-1.1.9-2 2-2h7c-.63.84-1 1.87-1 3 0 2.76 2.24 5 5 5 .34 0 .68-.03 1-.1V21z"}),"BookmarkAdd");function b(){var e,t=(0,u.v9)((function(e){return e.auth})),s=t.user,p=t.pending,b=(0,a.useState)(!1),N=(0,l.Z)(b,2),L=N[0],k=N[1],y=(0,a.useState)(!1),Z=(0,l.Z)(y,2),A=Z[0],z=Z[1],C=(0,a.useRef)(null),I=(0,a.useRef)(null),E=(0,a.useRef)(null);(0,a.useEffect)((function(){document.title="Redux - Wishlist"}),[]),(0,a.useEffect)((function(){var e=function(e){var t,s;!L||null!==(t=I.current)&&void 0!==t&&t.contains(e.target)||null!==(s=C.current)&&void 0!==s&&s.contains(e.target)||(E.current.value="",k(!1))};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[L]);var S=(0,d.v0)(),V=(0,c.F_)(S),W=(0,l.Z)(V,2),M=W[0],R=W[1],U=JSON.parse(localStorage.getItem("currentUser")),D=(0,u.I0)(),G=(0,f.jN)(),J=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(!0),r=(0,m.JU)(h.db,"users",M.uid),e.next=5,(0,m.r7)(r,{wishlist:(0,m.vr)(t)});case 5:D(x.hI.setWishlistAsync(s.wishlist?[].concat((0,i.Z)(s.wishlist),[t]):[t])),z(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),z(!1),D(x.hI.setWishlistError());case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(!0),i=(0,m.JU)(h.db,"users",M.uid),e.next=5,(0,m.r7)(i,{wishlist:(0,m.Ab)(t)});case 5:D(x.hI.setWishlistAsync(s.wishlist.filter((function(e){return e!==t})))),z(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),z(!1),D(x.hI.setWishlistError());case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"wishlist flex flex-col gap-10 max-w-2xl",children:[!R&&(0,v.jsxs)("div",{className:"description",children:[(0,v.jsx)("h1",{className:"page-header",children:"Wishlist"}),(0,v.jsx)("p",{className:"mt-4 max-w-2xl text-lg text-gray-500",children:M?"Lorem ipsum dolor sit amet consect adipisicing elit. Possimus magnam voluptatum cupiditate veritatis in accusamus quisquam":"Sign in with Google to manage your wishlist"}),!M&&(0,v.jsx)("button",{className:"button mt-8","aria-label":"Google sign in",onClick:G,children:"Sign in with Google"})]}),M&&(0,v.jsx)(v.Fragment,{children:A||p.login?(0,v.jsx)("div",{children:"Loading list..."}):(0,v.jsxs)("div",{className:"container flex flex-col gap-8",children:[(null===(e=s.wishlist)||void 0===e?void 0:e.length)>0&&(0,v.jsx)("div",{className:"list flex flex-col gap-4",children:s.wishlist.map((function(e,t){return(0,v.jsxs)("div",{className:"item flex items-center gap-3",children:[(0,v.jsx)("span",{className:"pt-[0.2rem] mb-auto",children:(0,v.jsx)(w,{className:"!fill-yellow-600"})}),(0,v.jsx)("p",{children:e}),(0,v.jsx)("button",{"aria-label":"Delete wish",onClick:function(){return q(e)},ref:C,children:(0,v.jsx)(g,{className:"!fill-red-600 z-0"})})]},t)}))}),(0,v.jsx)("div",{className:"new",children:L?(0,v.jsxs)("form",{className:"flex gap-3",onSubmit:function(e){var t;e.preventDefault();var s=e.target.wishItem.value.trim(),n=null===(t=U.user.wishlist)||void 0===t?void 0:t.some((function(e){return e.toLowerCase()===s.toLowerCase()}));s&&!n&&J(s.charAt(0).toUpperCase()+s.slice(1)),n&&(0,o.Am)("Wish exists already",{type:"warning"}),E.current.value="",I.current.focus()},ref:I,children:[(0,v.jsx)("input",{className:"form-input w-full md:w-2/4",type:"text",name:"wishItem",placeholder:"Enter your wish here",ref:E}),(0,v.jsx)("button",{type:"submit","aria-label":"Add wish",children:(0,v.jsx)(j,{className:"!fill-redux-500"})})]}):(0,v.jsx)("button",{className:"text-redux-500 w-fit hover:underline","aria-label":"Toggle wish input",onClick:function(){return k(!0)},children:"Add an item to your wishlist"})})]})})]})}}}]);