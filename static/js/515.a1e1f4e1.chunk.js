"use strict";(self.webpackChunkredux=self.webpackChunkredux||[]).push([[515],{6515:function(e,a,t){t.r(a),t.d(a,{default:function(){return Z}});var r=t(885),s=t(7313),n=t(4165),i=t(5861),l=t(4942),c=t(1413),u=t(5554),d=t(1387),o=t(1638),m=t(9984),p=t(5987),h=["title","titleId"];var f=s.forwardRef((function(e,a){var t=e.title,r=e.titleId,n=(0,p.Z)(e,h);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":r},n),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"}))})),v=t(6417);function x(e){var a=e.authUser,t=JSON.parse(localStorage.getItem("currentUser")),p=null===t||void 0===t?void 0:t.user.avatar,h=null!==p&&void 0!==p&&p.startsWith("http")?0:Number(null===p||void 0===p?void 0:p.replace(/\D/g,"")),x=(0,u.v9)((function(e){return e.auth})),b=x.user,w=x.pending,g=(0,s.useState)({avatar:b.avatar,name:b.name,email:b.email,address:b.address,website:b.website}),j=(0,r.Z)(g,2),N=j[0],Z=j[1],y=(0,s.useState)(h),k=(0,r.Z)(y,2),S=k[0],A=k[1],C=(0,s.useState)(!1),I=(0,r.Z)(C,2),U=I[0],E=I[1],F=(0,o.Fw)(N),D=(0,u.I0)();(0,s.useEffect)((function(){N.avatar!==b.avatar&&(A(0),Z((function(e){return(0,c.Z)((0,c.Z)({},e),{},{avatar:b.avatar})})))}),[b.avatar]);var J=function(e){var a=e.target.value.trim(),t=e.target.name;if("email"===t){if(!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(a))return}a.length>0?Z((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,l.Z)({},t,a))})):Z((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,l.Z)({},t,b[t]))}))},L=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),JSON.stringify(N)===JSON.stringify(b)){e.next=6;break}return a&&F(),e.next=5,D(m.hI.updateAsync((0,c.Z)((0,c.Z)({},b),{},{avatar:N.avatar,name:N.name,email:N.email,address:N.address,website:N.website})));case 5:(0,d.Am)("Account successfully updated",{type:"success"});case 6:t.target.reset();case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"profile",children:[(0,v.jsx)("h1",{className:"page-header",children:"Update your account"}),(0,v.jsx)("p",{className:"mt-4 text-lg text-gray-500",children:"Lorem ipsum dolor sit amet consect adipisicing elit. Possimus magnam voluptatum cupiditate veritatis in accusamus quisquam"}),(0,v.jsxs)("form",{id:"detailsForm",className:"details mt-10 md:max-w-md",onSubmit:L,children:[(0,v.jsxs)("div",{className:"input-group md:flex-row md:gap-16 md:justify-between",children:[(0,v.jsxs)("div",{className:"icon md:text-center",children:[(0,v.jsx)("label",{className:"block font-bold",children:"Profile picture"}),(0,v.jsx)("img",{className:"avatar cursor-default my-4 md:my-7",src:N.avatar,alt:"","aria-label":"Current user avatar",width:"64px",height:"64px",referrerPolicy:"no-referrer"}),(0,v.jsx)("span",{className:"swapper".concat(U?" spin":""),onClick:function(){E(!0);var e=h===S?h+1:S+1;10===S?(A(a?0:1),Z((function(e){return(0,c.Z)((0,c.Z)({},e),{},{avatar:a?a.photoURL:"assets/avatars/".concat(1,".svg")})}))):(A(e),Z((function(a){return(0,c.Z)((0,c.Z)({},a),{},{avatar:"assets/avatars/".concat(e,".svg")})})))},onAnimationEnd:function(){return E(!1)},children:(0,v.jsx)(f,{className:"swapper-icon"})})]}),(0,v.jsxs)("div",{className:"input-row md:self-center flex-grow",children:[(0,v.jsxs)("div",{className:"detail-input",children:[(0,v.jsx)("label",{className:"form-label",children:"Full name"}),(0,v.jsx)("input",{type:"text",name:"name",className:"form-input",disabled:w.update,placeholder:b.name,onChange:function(e){return J(e)}})]}),(0,v.jsxs)("div",{className:"detail-input",children:[(0,v.jsx)("label",{className:"form-label",children:"Email address"}),(0,v.jsx)("input",{type:"email",name:"email",className:"form-input",disabled:w.update,placeholder:b.email,pattern:"\\w+([\\.\\-]?\\w+)*@\\w+([\\.\\-]?\\w+)*(\\.\\w{2,3})",onChange:function(e){return J(e)}})]})]})]}),(0,v.jsxs)("div",{className:"input-group",children:[(0,v.jsxs)("div",{className:"detail-input",children:[(0,v.jsx)("label",{className:"form-label",children:"Address"}),(0,v.jsx)("input",{type:"text",name:"address",className:"form-input",disabled:w.update,placeholder:b.address,onChange:function(e){return J(e)}})]}),(0,v.jsxs)("div",{className:"detail-input",children:[(0,v.jsx)("label",{className:"form-label",children:"Website"}),(0,v.jsx)("input",{type:"text",name:"website",className:"form-input",disabled:w.update,placeholder:b.website,pattern:"[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)",onChange:function(e){return J(e)}})]})]}),(0,v.jsx)("div",{className:"detail-input",children:(0,v.jsx)("button",{className:"button",disabled:w.update,type:"submit",form:"detailsForm",children:"Update"})})]})]})}var b=t(9489),w=t(573),g=t(9572);function j(e){var a=e.auth,t=e.authUser,r=(0,u.I0)(),s=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(m.hI.deleteGoogleStart()),e.next=4,(0,b.bc)(t,g.V);case 4:return s=(0,w.JU)(g.db,"users",t.uid),e.next=7,(0,w.oe)(s);case 7:return e.next=9,(0,b.h8)(t);case 9:return e.next=11,(0,b.w7)(a);case 11:r(m.hI.resetState()),r(m.hI.deleteGoogleSuccess()),(0,d.Am)("Account successfully deleted",{type:"success"}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),r(m.hI.deleteGoogleError());case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"delete",children:[(0,v.jsx)("h1",{className:"page-header",children:"Delete your account"}),(0,v.jsx)("p",{className:"mt-4 text-lg text-gray-500",children:"This will permanently erase your information from our database and all data will be lost, please proceed with caution"}),(0,v.jsx)("button",{className:"button danger mt-8",type:"button",onClick:s,children:"Delete"})]})}var N=t(2938);function Z(){(0,s.useEffect)((function(){document.title="Redux - Settings"}),[]);var e=(0,b.v0)(),a=(0,N.F_)(e),t=(0,r.Z)(a,1)[0];return(0,v.jsxs)("div",{className:"settings max-w-2xl gap-10",children:[(0,v.jsx)(x,{authUser:t}),t&&(0,v.jsx)(j,{auth:e,authUser:t})]})}}}]);